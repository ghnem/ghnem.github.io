
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../swagger/">
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Devlopment - Alfa Care</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Devlopment - Alfa Care" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="./assets/images/social/development.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="None" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Devlopment - Alfa Care" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="./assets/images/social/development.png" >
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#development" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Alfa Care" class="md-header__button md-logo" aria-label="Alfa Care" data-md-component="logo">
      
  <img src="../assets/logo.webp" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Alfa Care
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Devlopment
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Alfa Care" class="md-nav__button md-logo" aria-label="Alfa Care" data-md-component="logo">
      
  <img src="../assets/logo.webp" alt="logo">

    </a>
    Alfa Care
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Devlopment
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Devlopment
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#environment-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Environment setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Environment setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#devcontainer-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      DevContainer (recommended)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Local setup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-runner" class="md-nav__link">
    <span class="md-ellipsis">
      Task runner
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-flask-dev-server" class="md-nav__link">
    <span class="md-ellipsis">
      Running flask dev server
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Running tests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quality-checks" class="md-nav__link">
    <span class="md-ellipsis">
      Quality checks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-sdks" class="md-nav__link">
    <span class="md-ellipsis">
      Generating SDKs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cicd" class="md-nav__link">
    <span class="md-ellipsis">
      CI/CD
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#production-ish-build" class="md-nav__link">
    <span class="md-ellipsis">
      Production-ish build
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../swagger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Swagger
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../erd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ERD
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../rationale/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rationale
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#environment-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Environment setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Environment setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#devcontainer-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      DevContainer (recommended)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Local setup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-runner" class="md-nav__link">
    <span class="md-ellipsis">
      Task runner
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-flask-dev-server" class="md-nav__link">
    <span class="md-ellipsis">
      Running flask dev server
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Running tests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quality-checks" class="md-nav__link">
    <span class="md-ellipsis">
      Quality checks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-sdks" class="md-nav__link">
    <span class="md-ellipsis">
      Generating SDKs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cicd" class="md-nav__link">
    <span class="md-ellipsis">
      CI/CD
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#production-ish-build" class="md-nav__link">
    <span class="md-ellipsis">
      Production-ish build
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="development">Development</h1>
<h2 id="environment-setup">Environment setup</h2>
<h3 id="devcontainer-recommended"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.954 17H2.75A1.75 1.75 0 0 1 1 15.25V3.75C1 2.784 1.784 2 2.75 2h18.5c.966 0 1.75.784 1.75 1.75v11.5A1.75 1.75 0 0 1 21.25 17h-6.204c.171 1.375.805 2.652 1.769 3.757A.752.752 0 0 1 16.25 22h-8.5a.75.75 0 0 1-.565-1.243c.964-1.105 1.598-2.382 1.769-3.757M21.5 3.75a.25.25 0 0 0-.25-.25H2.75a.25.25 0 0 0-.25.25v11.5c0 .138.112.25.25.25h18.5a.25.25 0 0 0 .25-.25ZM13.537 17h-3.074c-.126 1.266-.564 2.445-1.223 3.5h5.52c-.659-1.055-1.098-2.234-1.223-3.5"/></svg></span> DevContainer (recommended)</h3>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The project is built on top of a <a href="https://code.visualstudio.com/docs/devcontainers/create-dev-container">DevContainer</a>,
for minimal onboarding overhead and optimal productivity.</p>
<p>The DevContainer has all the tools required for development; vscode extensions (sqlite, redis, pylance, redis, githhub actions, etc..),
redis server, and CLIs for development and SDK generation. Also, it will pick up the right venv and activate it for you and 
install <code>poe</code> tab completions.</p>
</div>
<ol>
<li>Install <a href="https://docs.docker.com/get-docker/">Docker</a>, <a href="https://code.visualstudio.com/">Visual Studio Code</a>,
   and the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">Remote - Containers</a> extension.</li>
<li>Open the repository in Visual Studio Code.</li>
<li>The DevContainers extension will prompt you to reopen the project in a container. If it doesn't, in
   the command palette <code>(ctrl + shift + p)</code>, search for <code>DevContainer: Reopen in Container</code>.</li>
<li>The project will build the container and install all dependencies. This may take a few minutes.</li>
</ol>
<p>Profit! <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.322.75h1.176a1.75 1.75 0 0 1 1.75 1.749v1.177a10.75 10.75 0 0 1-2.925 7.374l-1.228 1.304a24 24 0 0 1-1.596 1.542v5.038c0 .615-.323 1.184-.85 1.5l-4.514 2.709a.75.75 0 0 1-1.12-.488l-.963-4.572a1.3 1.3 0 0 1-.14-.129L8.04 15.96l-1.994-1.873a1.3 1.3 0 0 1-.129-.14l-4.571-.963a.75.75 0 0 1-.49-1.12l2.71-4.514c.316-.527.885-.85 1.5-.85h5.037a24 24 0 0 1 1.542-1.594l1.304-1.23A10.75 10.75 0 0 1 20.321.75Zm-6.344 4.018v-.001l-1.304 1.23a22.3 22.3 0 0 0-3.255 3.851l-2.193 3.29 1.859 1.744.034.034 1.743 1.858 3.288-2.192a22.3 22.3 0 0 0 3.854-3.257l1.228-1.303a9.25 9.25 0 0 0 2.517-6.346V2.5a.25.25 0 0 0-.25-.25h-1.177a9.25 9.25 0 0 0-6.344 2.518M6.5 21c-1.209 1.209-3.901 1.445-4.743 1.49a.24.24 0 0 1-.18-.067.24.24 0 0 1-.067-.18c.045-.842.281-3.534 1.49-4.743.9-.9 2.6-.9 3.5 0s.9 2.6 0 3.5m-.592-8.588L8.17 9.017q.346-.519.717-1.017H5.066a.25.25 0 0 0-.214.121l-2.167 3.612ZM16 15.112q-.5.372-1.018.718l-3.393 2.262.678 3.223 3.612-2.167a.25.25 0 0 0 .121-.214ZM17.5 8a1.5 1.5 0 1 1-3.001-.001A1.5 1.5 0 0 1 17.5 8"/></svg></span> You have a fully fledged development environment ready to go.</p>
<h3 id="local-setup"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 4.75C2 3.784 2.784 3 3.75 3h4.971c.58 0 1.12.286 1.447.765l1.404 2.063c.046.069.124.11.207.11h8.471c.966 0 1.75.783 1.75 1.75V19.25A1.75 1.75 0 0 1 20.25 21H3.75A1.75 1.75 0 0 1 2 19.25Z"/></svg></span> Local setup</h3>
<p>If you prefer not to use DevContainer, you can set up the project locally.</p>
<ol>
<li>Install <a href="https://docs.astral.sh/uv/#getting-started">astral/uv</a>.</li>
<li>Run <code>uv sync</code> It will create a virtual environment with the version specified in the <code>.python-version</code> file.</li>
<li>Activate the virtual environment <code>source .venv/bin/activate</code>.</li>
<li>Run a Redis server on <code>localhost:6379</code>.</li>
<li>Copy <code>.env.example</code> to <code>.env</code> and fill in the required environment variables.</li>
<li>(Optional) install graphviz for generating docs <code>sudo apt-get install graphviz libgraphviz-dev</code>.</li>
<li>(Optional) install the <a href="https://openapi-generator.tech/docs/installation">OpenAPI Generator</a> and Java if you want to generate SDKs.</li>
<li>(Optional) install <code>webp</code> to optimize docs assets. <code>sudo apt-get install webp</code>.</li>
<li>(Optional) enable <code>poe</code> completions, see <a href="https://poethepoet.natn.io/installation.html#enable-tab-completion-for-your-shell">poe's docs</a>.</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All the commands from now on assume you have the virtual environment activated. Opening a new terminal in the
DevContainer will activate the virtual environment for you (if doesn't reload run <code>reload window</code> from the command pallete).</p>
<p>If don't want to activate the virtual environment, you can prefix the commands with <code>uv run</code>, e.g., <code>uv run poe dev</code>.</p>
</div>
<h2 id="task-runner"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.4 3.419a.639.639 0 0 1 1.2 0l.61 1.668a9.59 9.59 0 0 0 5.703 5.703l1.668.61a.639.639 0 0 1 0 1.2l-1.668.61a9.59 9.59 0 0 0-5.703 5.703l-.61 1.668a.639.639 0 0 1-1.2 0l-.61-1.668a9.59 9.59 0 0 0-5.703-5.703l-1.668-.61a.639.639 0 0 1 0-1.2l1.668-.61a9.59 9.59 0 0 0 5.703-5.703zM8 16.675a.266.266 0 0 1 .5 0l.254.694a4 4 0 0 0 2.376 2.377l.695.254a.266.266 0 0 1 0 .5l-.695.254a4 4 0 0 0-2.376 2.377l-.254.694a.266.266 0 0 1-.5 0l-.254-.694a4 4 0 0 0-2.376-2.377l-.695-.254a.266.266 0 0 1 0-.5l.695-.254a4 4 0 0 0 2.376-2.377zM4.2.21a.32.32 0 0 1 .6 0l.305.833a4.8 4.8 0 0 0 2.852 2.852l.833.305a.32.32 0 0 1 0 .6l-.833.305a4.8 4.8 0 0 0-2.852 2.852L4.8 8.79a.32.32 0 0 1-.6 0l-.305-.833a4.8 4.8 0 0 0-2.852-2.852L.21 4.8a.32.32 0 0 1 0-.6l.833-.305a4.8 4.8 0 0 0 2.852-2.852z"/></svg></span> Task runner</h2>
<p>I am using <a href="https://poethepoet.natn.io/index.html">poethepoet</a> to ease the development workflow.
Tasks are defined in the <code>pyproject.toml</code> file.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>You don't need the <code>--no-ansi</code> flag if you are running the commands in a normal terminal.
The flag is used to remove the ANSI as the docs gets generated in CI.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>poe<span class="w"> </span>--help<span class="w"> </span>--no-ansi
<span class="go">Poe the Poet - A task runner that works well with poetry.</span>
<span class="go">version 0.32.1</span>

<span class="go">Usage:</span>
<span class="go">  poe [global options] task [task arguments]</span>

<span class="go">Global options:</span>
<span class="go">  -h, --help            Show this help page and exit</span>
<span class="go">  --version             Print the version and exit</span>
<span class="go">  -v, --verbose         Increase command output (repeatable)</span>
<span class="go">  -q, --quiet           Decrease command output (repeatable)</span>
<span class="go">  -d, --dry-run         Print the task contents but don&#39;t actually run it</span>
<span class="go">  -C, --directory PATH  Specify where to find the pyproject.toml</span>
<span class="go">  -e, --executor EXECUTOR</span>
<span class="go">                        Override the default task executor</span>
<span class="go">  --ansi                Force enable ANSI output</span>
<span class="go">  --no-ansi             Force disable ANSI output</span>

<span class="go">Configured tasks:</span>
<span class="go">  dev                   Run flask development server in debug mode</span>
<span class="go">  dev-docs              Run mkdocs development server</span>
<span class="go">  mypy                  Run mypy type checker</span>
<span class="go">  pyright               Run pyright type checker</span>
<span class="go">  lint                  Lint the projec with ruff</span>
<span class="go">  fmt                   Format the project with isort and black</span>
<span class="go">  sdk                   Generate the SDK from the swagger documentation</span>
<span class="go">    --lang              The language to generate the SDK for</span>
<span class="go">  create_admin          Create a new admin user</span>
<span class="go">    --first-name       </span>
<span class="go">    --last-name        </span>
<span class="go">    --email            </span>
<span class="go">    --phone            </span>
<span class="go">    --password         </span>
<span class="go">  swagger               Export the swagger documentation to a file</span>
<span class="go">    --path              The path to export the swagger documentation to [default: docs/swagger.json]</span>
<span class="go">  erd                   Export the ERD documentation to a file</span>
<span class="go">    --path              The path to export the ERD documentation to [default: docs/erd.md]</span>
<span class="go">  docs-optimize-assets  </span>
</code></pre></div>
<h2 id="running-flask-dev-server"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 15.584V8.416a.5.5 0 0 1 .77-.42l5.576 3.583a.5.5 0 0 1 0 .842l-5.576 3.584a.5.5 0 0 1-.77-.42Z"/><path d="M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12m11-9.5A9.5 9.5 0 0 0 2.5 12a9.5 9.5 0 0 0 9.5 9.5 9.5 9.5 0 0 0 9.5-9.5A9.5 9.5 0 0 0 12 2.5"/></svg></span> Running flask dev server</h2>
<p>To run the server, you can use the <code>poe</code> task runner.</p>
<div class="highlight"><pre><span></span><code>poe<span class="w"> </span>dev
</code></pre></div>
<p>A typical output if you run this in a fresh DevContainer would look like this:</p>
<details class="example">
<summary><code>poe dev</code> output</summary>
<div class="highlight"><pre><span></span><code><span class="nv">Poe</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>flask<span class="w"> </span>--app<span class="w"> </span>app<span class="w"> </span>run<span class="w"> </span>--debug
Config<span class="o">(</span><span class="nv">db_url</span><span class="o">=</span><span class="s1">&#39;sqlite:///app.db&#39;</span>,
<span class="w">    </span><span class="nv">redis_url</span><span class="o">=</span><span class="s1">&#39;redis://localhost:6379&#39;</span>,
<span class="w">    </span><span class="nv">instance_path</span><span class="o">=</span>PosixPath<span class="o">(</span><span class="s1">&#39;/workspaces/alfa-assesment&#39;</span><span class="o">)</span>,
<span class="w">    </span><span class="nv">jwt_secret</span><span class="o">=</span><span class="s1">&#39;super secret change in production&#39;</span>,
<span class="w">    </span><span class="nv">jwt_location</span><span class="o">=</span><span class="s1">&#39;headers&#39;</span>,
<span class="w">    </span><span class="nv">server_name</span><span class="o">=</span><span class="s1">&#39;localhost:5000&#39;</span>,
<span class="w">    </span><span class="nv">application_root</span><span class="o">=</span><span class="s1">&#39;&#39;</span>,
<span class="w">    </span><span class="nv">preferred_url_scheme</span><span class="o">=</span><span class="s1">&#39;http&#39;</span>,
<span class="w">    </span><span class="nv">greetig</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span>,
<span class="w">    </span><span class="nv">log_fire_enabled</span><span class="o">=</span>False,
<span class="w">    </span><span class="nv">password_time_cost</span><span class="o">=</span><span class="m">2</span>,
<span class="w">    </span><span class="nv">password_memory_cost</span><span class="o">=</span><span class="m">19456</span>,
<span class="w">    </span><span class="nv">is_testing</span><span class="o">=</span>False<span class="o">)</span>
*<span class="w"> </span>Serving<span class="w"> </span>Flask<span class="w"> </span>app<span class="w"> </span><span class="s1">&#39;app&#39;</span>
*<span class="w"> </span>Debug<span class="w"> </span>mode:<span class="w"> </span>on
WARNING:<span class="w"> </span>This<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>development<span class="w"> </span>server.<span class="w"> </span>Do<span class="w"> </span>not<span class="w"> </span>use<span class="w"> </span>it<span class="w"> </span><span class="k">in</span><span class="w"> </span>a<span class="w"> </span>production<span class="w"> </span>deployment.<span class="w"> </span>Use<span class="w"> </span>a<span class="w"> </span>production<span class="w"> </span>WSGI<span class="w"> </span>server<span class="w"> </span>instead.
*<span class="w"> </span>Running<span class="w"> </span>on<span class="w"> </span>http://127.0.0.1:5000
Press<span class="w"> </span>CTRL+C<span class="w"> </span>to<span class="w"> </span>quit
*<span class="w"> </span>Restarting<span class="w"> </span>with<span class="w"> </span>watchdog<span class="w"> </span><span class="o">(</span>inotify<span class="o">)</span>
Config<span class="o">(</span><span class="nv">db_url</span><span class="o">=</span><span class="s1">&#39;sqlite:///app.db&#39;</span>,
<span class="w">    </span><span class="nv">redis_url</span><span class="o">=</span><span class="s1">&#39;redis://localhost:6379&#39;</span>,
<span class="w">    </span><span class="nv">instance_path</span><span class="o">=</span>PosixPath<span class="o">(</span><span class="s1">&#39;/workspaces/alfa-assesment&#39;</span><span class="o">)</span>,
<span class="w">    </span><span class="nv">jwt_secret</span><span class="o">=</span><span class="s1">&#39;super secret change in production&#39;</span>,
<span class="w">    </span><span class="nv">jwt_location</span><span class="o">=</span><span class="s1">&#39;headers&#39;</span>,
<span class="w">    </span><span class="nv">server_name</span><span class="o">=</span><span class="s1">&#39;localhost:5000&#39;</span>,
<span class="w">    </span><span class="nv">application_root</span><span class="o">=</span><span class="s1">&#39;&#39;</span>,
<span class="w">    </span><span class="nv">preferred_url_scheme</span><span class="o">=</span><span class="s1">&#39;http&#39;</span>,
<span class="w">    </span><span class="nv">greetig</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span>,
<span class="w">    </span><span class="nv">log_fire_enabled</span><span class="o">=</span>False,
<span class="w">    </span><span class="nv">password_time_cost</span><span class="o">=</span><span class="m">2</span>,
<span class="w">    </span><span class="nv">password_memory_cost</span><span class="o">=</span><span class="m">19456</span>,
<span class="w">    </span><span class="nv">is_testing</span><span class="o">=</span>False<span class="o">)</span>
*<span class="w"> </span>Debugger<span class="w"> </span>is<span class="w"> </span>active!
*<span class="w"> </span>Debugger<span class="w"> </span>PIN:<span class="w"> </span><span class="m">113</span>-386-978
</code></pre></div>
</details>
<p>Now you can visit <a href="http://127.0.0.1:5000">http://localhost:5000</a> to see the API documentation.</p>
<h2 id="running-tests"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 8.807V3.5h-.563a.75.75 0 0 1 0-1.5h9.125a.75.75 0 0 1 0 1.5H16v5.307l5.125 9.301c.964 1.75-.302 3.892-2.299 3.892H5.174c-1.998 0-3.263-2.142-2.3-3.892ZM4.189 18.832a1.123 1.123 0 0 0 .985 1.668h13.652a1.123 1.123 0 0 0 .985-1.668L17.7 15H6.3ZM14.5 3.5h-5V9a.75.75 0 0 1-.093.362L7.127 13.5h9.746l-2.28-4.138A.75.75 0 0 1 14.5 9Z"/></svg></span> Running tests</h2>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>pytest<span class="w"> </span>--cov<span class="w"> </span>app
<span class="go">============================= test session starts ==============================</span>
<span class="go">platform linux -- Python 3.13.1, pytest-8.3.4, pluggy-1.5.0</span>
<span class="go">rootdir: /home/runner/work/alfa/alfa</span>
<span class="go">configfile: pyproject.toml</span>
<span class="go">plugins: mock-3.14.0, alembic-0.11.1, cov-6.0.0, profiling-1.8.1, logfire-3.1.1, xdist-3.6.1, hypothesis-6.123.17</span>
<span class="go">collected 14 items</span>

<span class="go">tests/v1/test_protected.py .....                                         [ 35%]</span>
<span class="go">tests/v1/test_public.py ...                                              [ 57%]</span>
<span class="go">tests/v1/test_user.py ......                                             [100%]</span>

<span class="go">---------- coverage: platform linux, python 3.13.1-final-0 -----------</span>
<span class="go">Name                      Stmts   Miss  Cover</span>
<span class="go">---------------------------------------------</span>
<span class="go">app/__init__.py               1      0   100%</span>
<span class="go">app/__main__.py              42      5    88%</span>
<span class="go">app/api/__init__.py           0      0   100%</span>
<span class="go">app/api/v1/__init__.py        9      0   100%</span>
<span class="go">app/api/v1/protected.py      31      0   100%</span>
<span class="go">app/api/v1/public.py         12      0   100%</span>
<span class="go">app/api/v1/root.py           11      0   100%</span>
<span class="go">app/api/v1/user.py           74      7    91%</span>
<span class="go">app/config.py                36      3    92%</span>
<span class="go">app/db/__init__.py            0      0   100%</span>
<span class="go">app/db/connection.py          9      0   100%</span>
<span class="go">app/db/models.py             85      0   100%</span>
<span class="go">app/db/queries.py             4      0   100%</span>
<span class="go">app/schema/user.py           14      0   100%</span>
<span class="go">---------------------------------------------</span>
<span class="go">TOTAL                       328     15    95%</span>


<span class="go">============================== 14 passed in 1.84s ==============================</span>
</code></pre></div>
<h2 id="quality-checks"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.25 2a8.25 8.25 0 0 1 6.34 13.53l5.69 5.69a.749.749 0 0 1-.326 1.275.75.75 0 0 1-.734-.215l-5.69-5.69A8.25 8.25 0 1 1 10.25 2M3.5 10.25a6.75 6.75 0 1 0 13.5 0 6.75 6.75 0 0 0-13.5 0"/></svg></span> Quality checks</h2>
<p>To ensure a high level of code quality, I am using <a href="https://mypy.readthedocs.io/en/stable/">mypy</a>, <a href="https://astral.sh/ruff">ruff</a>,
<a href="https://black.readthedocs.io/en/stable/">black</a>, and <a href="https://pycqa.github.io/isort/">isort</a>.</p>
<p>Fixable formatting and linting issues can be fixed by passing the <code>--fix</code> flag to the <code>poe fmt</code> and <code>poe lint</code> commands.</p>
<div class="highlight"><pre><span></span><code>poe<span class="w"> </span>fmt<span class="w"> </span>--fix
poe<span class="w"> </span>lint<span class="w"> </span>--fix
</code></pre></div>
<h2 id="generating-sdks"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.126.64a1.75 1.75 0 0 1 1.75 0l8.25 4.762q.155.09.286.206a.75.75 0 0 1 .554.96q.035.17.035.35v3.332a.75.75 0 0 1-1.5 0V7.64l-7.75 4.474V22.36a.75.75 0 0 1-1.125.65l-8.75-5.052a1.75 1.75 0 0 1-.875-1.515V6.917q0-.179.035-.35a.75.75 0 0 1 .554-.96q.133-.117.286-.205zm.875 10.173zl7.75-4.474-7.625-4.402a.25.25 0 0 0-.25 0L2.251 6.34Zm-8.5-3.175v8.803c0 .09.048.172.125.216l7.625 4.402v-8.947Z"/><path d="m21.347 17.5-2.894-2.702a.75.75 0 1 1 1.023-1.096l4.286 4a.75.75 0 0 1 0 1.096l-4.286 4a.75.75 0 1 1-1.023-1.096L21.347 19h-6.633a.75.75 0 0 1 0-1.5z"/></svg></span> Generating SDKs</h2>
<p>To consume the API in other languages, you can generate SDKs using the OpenAPI Generator.
For example, to generate a <code>Kotlin</code> SDK, you can run the following command.</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>poe<span class="w"> </span>sdk<span class="w"> </span>--lang<span class="w"> </span>kotlin
<span class="go">[37mPoe =&gt;[0m [94mopenapi-generator-cli generate -i docs/swagger.json -g kotlin -o sdk/kotlin[0m</span>
<span class="go">[main] INFO  o.o.codegen.DefaultGenerator - Generating with dryRun=false</span>
<span class="go">[main] INFO  o.o.c.ignore.CodegenIgnoreProcessor - Output directory (/home/runner/work/alfa/alfa/sdk/kotlin) does not exist, or is inaccessible. No file (.openapi-generator-ignore) will be evaluated.</span>
<span class="go">[main] INFO  o.o.codegen.DefaultGenerator - OpenAPI Generator: kotlin (client)</span>
<span class="go">[main] INFO  o.o.codegen.DefaultGenerator - Generator &#39;kotlin&#39; is considered stable.</span>
<span class="go">[main] INFO  o.o.c.l.AbstractKotlinCodegen - Environment variable KOTLIN_POST_PROCESS_FILE not defined so the Kotlin code may not be properly formatted. To define it, try &#39;export KOTLIN_POST_PROCESS_FILE=&quot;/usr/local/bin/ktlint -F&quot;&#39; (Linux/Mac)</span>
<span class="go">[main] INFO  o.o.c.l.AbstractKotlinCodegen - NOTE: To enable file post-processing, &#39;enablePostProcessFile&#39; must be set to `true` (--enable-post-process-file for CLI).</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/models/LoginUserRequest.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/test/kotlin/org/openapitools/client/models/LoginUserRequestTest.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/docs/LoginUserRequest.md</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/models/RegisterUserError.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/test/kotlin/org/openapitools/client/models/RegisterUserErrorTest.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/docs/RegisterUserError.md</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/models/RegisterUserRequest.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/test/kotlin/org/openapitools/client/models/RegisterUserRequestTest.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/docs/RegisterUserRequest.md</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/models/RegisterUserResponse.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/test/kotlin/org/openapitools/client/models/RegisterUserResponseTest.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/docs/RegisterUserResponse.md</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/apis/ProtectedApi.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/test/kotlin/org/openapitools/client/apis/ProtectedApiTest.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/docs/ProtectedApi.md</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/apis/PublicApi.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/test/kotlin/org/openapitools/client/apis/PublicApiTest.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/docs/PublicApi.md</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/apis/UserApi.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/test/kotlin/org/openapitools/client/apis/UserApiTest.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/docs/UserApi.md</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/README.md</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/build.gradle</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/settings.gradle</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/gradlew</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/gradlew.bat</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/gradle/wrapper/gradle-wrapper.properties</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/gradle/wrapper/gradle-wrapper.jar</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/ApiClient.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/ApiAbstractions.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/PartConfig.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/RequestConfig.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/RequestMethod.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/Serializer.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/ByteArrayAdapter.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/UUIDAdapter.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/LocalDateAdapter.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/LocalDateTimeAdapter.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/OffsetDateTimeAdapter.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/BigDecimalAdapter.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/BigIntegerAdapter.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/URIAdapter.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/Errors.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/ResponseExtensions.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/src/main/kotlin/org/openapitools/client/infrastructure/ApiResponse.kt</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/.openapi-generator-ignore</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/.openapi-generator/VERSION</span>
<span class="go">[main] INFO  o.o.codegen.TemplateManager - writing file /home/runner/work/alfa/alfa/sdk/kotlin/.openapi-generator/FILES</span>
<span class="gp">#</span><span class="c1">###############################################################################</span>
<span class="gp"># </span>Thanks<span class="w"> </span><span class="k">for</span><span class="w"> </span>using<span class="w"> </span>OpenAPI<span class="w"> </span>Generator.<span class="w">                                          </span><span class="c1">#</span>
<span class="gp"># </span>Please<span class="w"> </span>consider<span class="w"> </span>donation<span class="w"> </span>to<span class="w"> </span><span class="nb">help</span><span class="w"> </span>us<span class="w"> </span>maintain<span class="w"> </span>this<span class="w"> </span>project<span class="w"> </span>🙏<span class="w">                 </span><span class="c1">#</span>
<span class="gp"># </span>https://opencollective.com/openapi_generator/donate<span class="w">                          </span><span class="c1">#</span>
<span class="gp">#                                                                              </span><span class="c1">#</span>
<span class="gp"># </span>This<span class="w"> </span>generator<span class="err">&#39;</span>s<span class="w"> </span>contributed<span class="w"> </span>by<span class="w"> </span>Jim<span class="w"> </span>Schubert<span class="w"> </span><span class="o">(</span>https://github.com/jimschubert<span class="o">)</span><span class="c1">#</span>
<span class="gp"># </span>Please<span class="w"> </span>support<span class="w"> </span>his<span class="w"> </span>work<span class="w"> </span>directly<span class="w"> </span>via<span class="w"> </span>https://patreon.com/jimschubert<span class="w"> </span>🙏<span class="w">      </span><span class="c1">#</span>
<span class="gp">#</span><span class="c1">###############################################################################</span>
</code></pre></div>
<h2 id="cicd"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1 3a2 2 0 0 1 2-2h6.5a2 2 0 0 1 2 2v6.5a2 2 0 0 1-2 2H7v4.063C7 16.355 7.644 17 8.438 17H12.5v-2.5a2 2 0 0 1 2-2H21a2 2 0 0 1 2 2V21a2 2 0 0 1-2 2h-6.5a2 2 0 0 1-2-2v-2.5H8.437A2.94 2.94 0 0 1 5.5 15.562V11.5H3a2 2 0 0 1-2-2Zm2-.5a.5.5 0 0 0-.5.5v6.5a.5.5 0 0 0 .5.5h6.5a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5ZM14.5 14a.5.5 0 0 0-.5.5V21a.5.5 0 0 0 .5.5H21a.5.5 0 0 0 .5-.5v-6.5a.5.5 0 0 0-.5-.5Z"/></svg></span> CI/CD</h2>
<p>I am using GitHub Actions for CI/CD. The workflow is defined in <code>.github/workflows</code> directory.</p>
<ul>
<li>
<p><code>ci.yml</code> has 3 jobs</p>
<ul>
<li><code>check</code>runs the tests, linting, formatting checks.</li>
<li><code>integration</code> makes sure the swagger documentation is up to date.</li>
<li><code>docs</code> publishes the documentation to GitHub pages.</li>
</ul>
</li>
<li>
<p><code>security.yml</code> has a single job</p>
<ul>
<li><code>audit</code> checks for security vulnerabilities in code.</li>
</ul>
</li>
<li>
<p><code>docker.yml</code> has a single job</p>
<ul>
<li><code>build</code> builds the docker image and pushes it to the GitHub Container Registry.</li>
</ul>
</li>
</ul>
<h2 id="production-ish-build">Production-ish build</h2>
<p>The <code>Dockerfile</code> defines a production-ish build. It uses the published image from the GitHub Container Registry and PostgreSQL instead of SQLite. </p>
<p>The published image uses gunicon to serve the app and only installs the production dependencies. To try it, run</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>up
</code></pre></div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>